// Custom palette items for Aether
// Each palette: { id: string, name: string, colors: [hex1, hex2, ...] }
window.PALETTES = [
  {
    id: 'nordic',
    name: 'Nordic Frost',
    category: 'cool',
    colors: ['#3EB489', '#ACE5EE', '#A8E4A0', '#CCCCFF', '#AFEEEE']
  },
  {
    id: 'soft-peach',
    name: 'Soft Peach',
    category: 'floral',
    colors: ['#FFEEE4', '#FFDDC1', '#FFC09F', '#FFEEAD']
  },
  {
    id: 'ocean-blue',
    name: 'Ocean Blue',
    category: 'cool',
    colors: ['#0077B6', '#00B4D8', '#90E0EF', '#CAF0F8']
  },
  {
    id: 'apricot-rose',
    name: 'Apricot Rose',
    category: 'floral',
    colors: ['#FFCAD4', '#F4ACB7', '#9D8189', '#FFE5D9', '#FFD7BA']
  },
  {
    id: 'berry-punch',
    name: 'Berry Punch',
    category: 'vivid',
    colors: ['#FADDE1', '#FF99AC', '#FF4D6D', '#C9184A', '#800080']
  },
  {
    id: 'evening-sky',
    name: 'Evening Sky',
    category: 'atmosphere',
    colors: ['#EDF2FB', '#D7E3FC', '#C1D3FE', '#ABC4FF', '#2F3E46']
  },
  {
    id: 'cool-slate',
    name: 'Cool Slate',
    category: 'cool',
    colors: ['#212529', '#343A40', '#495057', '#6C757D', '#ADB5BD']
  },
  {
    id: 'olive-grove',
    name: 'Olive Grove',
    category: 'nature',
    colors: ['#283618', '#606C38', '#DDA15E', '#BC6C25', '#FEFAE0']
  },
  {
    id: 'mauve-lilac',
    name: 'Mauve Lilac',
    category: 'floral',
    colors: ['#B5838D', '#E5989B', '#FFB4A2', '#FFCDB2', '#F5EBE0']
  },
  {
    id: 'midnight-gold',
    name: 'Midnight Gold',
    category: 'atmosphere',
    colors: ['#000814', '#001D3D', '#003566', '#FFC300', '#FFD60A']
  },
  {
    id: 'teal-coral',
    name: 'Teal Coral',
    category: 'vivid',
    colors: ['#264653', '#2A9D8F', '#E9C46A', '#F4A261', '#E76F51']
  },
  {
    id: 'deep-space',
    name: 'Deep Space',
    category: 'atmosphere',
    colors: ['#0D1B2A', '#1B263B', '#415A77', '#778DA9', '#E0E1DD']
  },
  {
    id: 'mint-lavender',
    name: 'Mint Lavender',
    category: 'floral',
    colors: ['#CDB4DB', '#FFC8DD', '#FFAFCC', '#BDE0FE', '#A2D2FF']
  },
  {
    id: 'scarlet-bloom',
    name: 'Scarlet Bloom',
    category: 'floral',
    colors: ['#31493C', '#8FA282', '#E3E7D3', '#D95438', '#11181C']
  },
  {
    id: 'rose-garden',
    name: 'Rose Garden',
    category: 'floral',
    colors: ['#A5B3B1', '#4C6A48', '#E7DBCB', '#E29895', '#C84E5E']
  },
  {
    id: 'tropical-snap',
    name: 'Tropical Snap',
    category: 'nature',
    colors: ['#008643', '#8DBB5A', '#B5D2D5', '#FFE9A8', '#FFCC00']
  },
  {
    id: 'mango-paradise',
    name: 'Mango Paradise',
    category: 'nature',
    colors: ['#5D7F00', '#F1B500', '#FFE6B0', '#85938D', '#3F6156']
  },
  {
    id: 'mediterranean-bloom',
    name: 'Mediterranean Bloom',
    category: 'nature',
    colors: ['#37352D', '#7B7C72', '#E7D8DB', '#EDA194', '#D06764']
  },
  {
    id: 'poppy-fresh',
    name: 'Poppy Fresh',
    category: 'floral',
    colors: ['#E0E0E0', '#E9F1CD', '#7E993B', '#FF714F', '#FF1E26']
  },
  {
    id: 'vintage-voyage',
    name: 'Vintage Voyage',
    category: 'earth',
    colors: ['#EF5F4D', '#C89376', '#87B19D', '#6E982F', '#04361C']
  },
  {
    id: 'cherry-blossom',
    name: 'Cherry Blossom',
    category: 'floral',
    colors: ['#E60D12', '#E6A39C', '#DACFD1', '#4F5E05', '#0E170A']
  },
  {
    id: 'velvet-rose',
    name: 'Velvet Rose',
    category: 'floral',
    colors: ['#F68D7D', '#D9423D', '#A62D37', '#7E955D', '#2B373A']
  },
  {
    id: 'emerald-vista',
    name: 'Emerald Vista',
    category: 'nature',
    colors: ['#606451', '#006048', '#E8EDE8', '#FFAC75', '#D94F52']
  },
  {
    id: 'spring-vase',
    name: 'Spring Vase',
    category: 'nature',
    colors: ['#E5D26A', '#F2EDEB', '#E8D3BC', '#7C8F41', '#4B4F0E']
  },
  {
    id: 'pink-plant',
    name: 'Pink Plant',
    category: 'nature',
    colors: ['#E68D7D', '#F1D9D6', '#418F7D', '#0E4F41', '#0E1F1E']
  },
  {
    id: 'garden-camellia',
    name: 'Garden Camellia',
    category: 'floral',
    colors: ['#41421A', '#7C7E61', '#DABCC5', '#D27C6A', '#B13C30']
  },
  {
    id: 'desert-cactus',
    name: 'Desert Cactus',
    category: 'earth',
    colors: ['#7C8E61', '#BCC5AA', '#B65B5E', '#84323E', '#B2B2B1']
  },
  {
    id: 'persimmon-sky',
    name: 'Persimmon Sky',
    category: 'atmosphere',
    colors: ['#96BBD4', '#C6D5E5', '#FF7C3A', '#FF451A', '#FACAD6']
  },
  {
    id: 'summer-palm',
    name: 'Summer Palm',
    category: 'nature',
    colors: ['#FFAF3A', '#FEE1A6', '#BCC8BD', '#4F5F41', '#1A2215']
  },
  {
    id: 'frozen-fir',
    name: 'Frozen Fir',
    category: 'nature',
    colors: ['#2B3300', '#5F6600', '#E4A22F', '#D9D2CE', '#8D817A']
  },
  {
    id: 'winter-bamboo',
    name: 'Winter Bamboo',
    category: 'cool',
    colors: ['#1A281E', '#729668', '#A3BCBD', '#E5E9EC', '#F9F9F9']
  },
  {
    id: 'frosted-leaves',
    name: 'Frosted Leaves',
    category: 'nature',
    colors: ['#2F3E3E', '#5D6B70', '#DCE4E7', '#AAB6AF', '#1F2F20']
  },
  {
    id: 'dune-shade',
    name: 'Dune Shade',
    category: 'atmosphere',
    colors: ['#717D7E', '#A9BABB', '#DDE2E2', '#E2DDD6', '#F2EFE9']
  },
  {
    id: 'volcanic-ash',
    name: 'Volcanic Ash',
    category: 'atmosphere',
    colors: ['#30394A', '#51464F', '#796B70', '#A16D6E', '#C2917D']
  },
  {
    id: 'abstract-folds',
    name: 'Abstract Folds',
    category: 'earth',
    colors: ['#6D5F4D', '#B1A08A', '#DCDCDC', '#C7C2BA', '#0A0A0A']
  },
  {
    id: 'peach-roses',
    name: 'Peach Roses',
    category: 'floral',
    colors: ['#D9D9D9', '#909D81', '#5B604B', '#CB9E93', '#BF563B']
  },
  {
    id: 'misty-summit',
    name: 'Misty Summit',
    category: 'atmosphere',
    colors: ['#FFFFFF', '#C3C9C1', '#515B56', '#906E3E', '#4A3221']
  },
  {
    id: 'frozen-autumn',
    name: 'Frozen Autumn',
    category: 'earth',
    colors: ['#1C1E23', '#5E3B3E', '#896E64', '#8E919E', '#ED8D42']
  },
  {
    id: 'pancake-morning',
    name: 'Pancake Morning',
    category: 'earth',
    colors: ['#444747', '#E5EBE0', '#F9D893', '#D6943C', '#24292B']
  },
  {
    id: 'sepia-mountains',
    name: 'Sepia Mountains',
    category: 'atmosphere',
    colors: ['#241C1C', '#7F624C', '#C9A786', '#EBD8C4', '#FDF2E9']
  },
  {
    id: 'lilac-hydrangea',
    name: 'Lilac Hydrangea',
    category: 'floral',
    colors: ['#3F1D40', '#766284', '#D5D9D4', '#BF93BC', '#A65391']
  },
  {
    id: 'moody-hellebore',
    name: 'Moody Hellebore',
    category: 'floral',
    colors: ['#2D3E35', '#7A8D86', '#D9D9D9', '#C59A85', '#B6667F']
  },
  {
    id: 'coastline-teal',
    name: 'Coastline Teal',
    category: 'nature',
    colors: ['#69A69D', '#96B1AC', '#F0F5F6', '#D1D9DB', '#7B4C3A']
  },
  {
    id: 'lighthouse-cliff',
    name: 'Lighthouse Cliff',
    category: 'atmosphere',
    colors: ['#0A0605', '#8E5218', '#6D693F', '#D9D9D9', '#B3B3B0']
  },
  {
    id: 'autumn-pumpkin',
    name: 'Autumn Pumpkin',
    category: 'earth',
    colors: ['#000000', '#5B4A3C', '#8C735B', '#F9C383', '#F9A45B']
  },
  {
    id: 'cozy-candle',
    name: 'Cozy Candle',
    category: 'earth',
    colors: ['#3F1511', '#B3462E', '#F2A992', '#D9CDC2', '#C5A691']
  },
  {
    id: 'neon-jellyfish',
    name: 'Neon Jellyfish',
    category: 'vivid',
    colors: ['#0F001C', '#4D004F', '#70002E', '#A000A0', '#D2006A']
  },
  {
    id: 'forest-berries',
    name: 'Forest Berries',
    category: 'nature',
    colors: ['#C4E0D1', '#8FBCA3', '#1B512D', '#C42646', '#631C24']
  },
  {
    id: 'summer-garden',
    name: 'Summer Garden',
    category: 'nature',
    colors: ['#1E3314', '#E3120E', '#EB8B87', '#F5C6D4', '#F2C10A']
  },
  {
    id: 'citrus-splash',
    name: 'Citrus Splash',
    category: 'vivid',
    colors: ['#F26A0E', '#F2B90E', '#F9E6B0', '#EBF5F9', '#BDE3F0']
  },
  {
    id: 'starry-night',
    name: 'Starry Night',
    category: 'atmosphere',
    colors: ['#0B172A', '#32475E', '#EAE2D1', '#CD9F72', '#5D4D3D']
  },
  {
    id: 'ginger-lemonade',
    name: 'Ginger Lemonade',
    category: 'earth',
    colors: ['#5D4327', '#AF8C72', '#F2CA0E', '#F2920E', '#8C471B']
  },
  {
    id: 'soft-flamingo',
    name: 'Soft Flamingo',
    category: 'nature',
    colors: ['#0E0F04', '#5D1B13', '#FF453A', '#F2A992', '#D6C2B8']
  },
  {
    id: 'purple-heights',
    name: 'Purple Heights',
    category: 'atmosphere',
    colors: ['#A9DCE3', '#F2E38B', '#F9AC7B', '#965B72', '#1C1B20']
  },
  {
    id: 'cozy-yarn',
    name: 'Cozy Yarn',
    category: 'earth',
    colors: ['#70473C', '#C59C82', '#B9A4B3', '#7E5B70', '#3E0E12']
  },
  {
    id: 'citrus-herbal',
    name: 'Citrus Herbal',
    category: 'nature',
    colors: ['#5D662B', '#F9B02D', '#F1F4F9', '#F9C7B0', '#B16E4D']
  },
  {
    id: 'velvet-wine',
    name: 'Velvet Wine',
    category: 'vivid',
    colors: ['#4D0019', '#701036', '#A03060', '#D260A0', '#F2D0F0']
  },
  {
    id: 'nautical-coast',
    name: 'Nautical Coast',
    category: 'cool',
    colors: ['#F2EBD9', '#2B548C', '#1A3043', '#D9A036']
  },
  {
    id: 'slate-mist',
    name: 'Slate Mist',
    category: 'cool',
    colors: ['#30394A', '#798DA9', '#A3BCBD', '#E5E9EC']
  },
  {
    id: 'desert-sand',
    name: 'Desert Sand',
    category: 'earth',
    colors: ['#F9F9F9', '#F2EEE9', '#D9D2CE', '#C5A691']
  },
  {
    id: 'earthy-taupe',
    name: 'Earthy Taupe',
    category: 'earth',
    colors: ['#71725D', '#A69E81', '#C5BBA6', '#E5E1D7']
  },
  {
    id: 'quiet-sage',
    name: 'Quiet Sage',
    category: 'nature',
    colors: ['#909D81', '#BCC5AA', '#DAE2CE', '#F9F9F9']
  },
  {
    id: 'morning-sky',
    name: 'Morning Sky',
    category: 'atmosphere',
    colors: ['#FDF9E1', '#A9DCE3', '#798DA9', '#415A77']
  },
  {
    id: 'berry-silk',
    name: 'Berry Silk',
    category: 'vivid',
    colors: ['#F2EFE9', '#D96C82', '#A62D4F', '#400010']
  },
  {
    id: 'sunset-gradient',
    name: 'Sunset Gradient',
    category: 'atmosphere',
    colors: ['#FFB100', '#F25C05', '#D91159', '#60024A']
  },
  {
    id: 'clean-mint',
    name: 'Clean Mint',
    category: 'nature',
    colors: ['#F9F9F9', '#F1F4F9', '#DAE2CE', '#909D81']
  },
  {
    id: 'aqua-mustard',
    name: 'Aqua Mustard',
    category: 'vivid',
    colors: ['#79D2CC', '#C6F2ED', '#F9F9F9', '#FFB100']
  },
  {
    id: 'dusk-lavender',
    name: 'Dusk Lavender',
    category: 'cool',
    colors: ['#5D6079', '#A9B1C5', '#E5DDCB', '#F2EEE9']
  },
  // --- Added: Natural Pastels (Природная пастель)
  {
    id: 'lupine-field',
    name: 'Lupine Field (Поле люпинов)',
    category: 'floral',
    colors: ['#4B3D8E', '#AC94B2', '#D9A596', '#B4C45A', '#5D7A32']
  },
  {
    id: 'spring-astrantia',
    name: 'Spring Astrantia (Весенняя астранция)',
    category: 'floral',
    colors: ['#7EA041', '#C5D6A4', '#E2C9BD', '#E5B7B1', '#C76E83']
  },
  {
    id: 'blooming-peony',
    name: 'Blooming Peony (Цветущий пион)',
    category: 'floral',
    colors: ['#F0806E', '#F7B992', '#E5E0C3', '#B9C7B6', '#7D989A']
  },
  {
    id: 'white-ranunculus',
    name: 'White Ranunculus (Белый ранункулюс)',
    category: 'floral',
    colors: ['#8B8C46', '#C9C9C9', '#EEF2E6', '#EBD6CE', '#E7B99D']
  },
  // --- Added: Warm Earth & Sunset (Теплая земля и закат)
  {
    id: 'cloudy-sunset',
    name: 'Cloudy Sunset (Облачный закат)',
    category: 'atmosphere',
    colors: ['#7F6B6F', '#BC8573', '#FFD8C2', '#F4E9E2', '#D5DEE8']
  },
  {
    id: 'orange-poppies',
    name: 'Orange Poppies (Оранжевые маки)',
    category: 'floral',
    colors: ['#B92E51', '#EB5E3C', '#FF9E7D', '#FFD06D', '#6D9D74']
  },
  {
    id: 'sunflower-sunset',
    name: 'Sunflower at Sunset (Подсолнух на закате)',
    category: 'nature',
    colors: ['#3D3D29', '#7D8035', '#E9A62B', '#D15B00', '#5C2007']
  },
  {
    id: 'sunset-clouds',
    name: 'Sunset Clouds (Закатные облака)',
    category: 'atmosphere',
    colors: ['#3F363A', '#9D82A5', '#C38898', '#F7B59F', '#FCE2B3']
  },
  // --- Added: Architectural & Classic (Архитектура и классика)
  {
    id: 'gothic-cathedral',
    name: 'Gothic Cathedral (Готический собор)',
    category: 'classic',
    colors: ['#E1E1E1', '#C9C1B0', '#9E8E7E', '#7F6751', '#B57E43']
  },
  {
    id: 'ancient-mosaic',
    name: 'Ancient Mosaic (Древняя мозаика)',
    category: 'classic',
    colors: ['#1F2E1B', '#6B703F', '#F2EFE1', '#E6BD64', '#83532A']
  },
  {
    id: 'mediterranean-town',
    name: 'Mediterranean Town (Средиземноморский город)',
    category: 'classic',
    colors: ['#4D231F', '#9E4D06', '#E3DCD1', '#C7BCAD', '#5E595E']
  },
  {
    id: 'golden-gladiolus',
    name: 'Golden Gladiolus (Золотистый гладиолус)',
    category: 'floral',
    colors: ['#5D3A1A', '#965A1A', '#D19E4B', '#E9C46A', '#F4E9CD']
  },
  // --- Added: High Contrast & Vibrant (Контраст и яркость)
  {
    id: 'scarlet-poppies',
    name: 'Scarlet Poppies (Алые маки)',
    category: 'vivid',
    colors: ['#E1E1E1', '#DCE28C', '#849E45', '#FF6B53', '#FF0000']
  },
  {
    id: 'citrus-mix',
    name: 'Citrus Mix (Цитрусовый микс)',
    category: 'vivid',
    colors: ['#FFF8D5', '#FFB400', '#FF8C3E', '#FF2424', '#990000']
  },
  {
    id: 'green-foliage',
    name: 'Green Foliage (Зеленая хвоя)',
    category: 'nature',
    colors: ['#FF9E7D', '#FFC2AC', '#7EA041', '#3F512F', '#0B1B2B']
  },
  {
    id: 'tropical-hummingbird',
    name: 'Tropical Hummingbird (Тропический колибри)',
    category: 'vivid',
    colors: ['#5D7A01', '#8DC63F', '#F7B23B', '#F6D8A9', '#4D3A2F']
  },
  // --- Added: Modern & Deep Nature (Модерн и глубокая природа)
  {
    id: 'ocean-shore',
    name: 'Ocean Shore (Берег океана)',
    category: 'nature',
    colors: ['#5D7A32', '#B4C45A', '#E9C8BC', '#AC94B2', '#3B6082']
  },
  {
    id: 'mountain-canyon',
    name: 'Mountain Canyon (Горный каньон)',
    category: 'earth',
    colors: ['#000000', '#4D231F', '#C37384', '#F79E7D', '#EB5E3C']
  },
  {
    id: 'garden-plant',
    name: 'Garden Plant (Садовое растение)',
    category: 'nature',
    colors: ['#E9A68A', '#F2EFE1', '#2D7363', '#5D7A32', '#12221F']
  },
  {
    id: 'yellow-sports-car',
    name: 'Yellow Sports Car (Желтый спорткар)',
    category: 'vivid',
    colors: ['#2D2525', '#B85C2E', '#DB8E50', '#DECD3C', '#EAE1D3']
  }
];

// Current selection state
window.SELECTED_PALETTE_ID = null; // null means random per generation

// Helper to convert hex to rgb array [r, g, b]
function hexToRgb(hex) {
  let r = 0, g = 0, b = 0;
  // 3 digits
  if (hex.length == 4) {
    r = parseInt(hex[1] + hex[1], 16);
    g = parseInt(hex[2] + hex[2], 16);
    b = parseInt(hex[3] + hex[3], 16);
  }
  // 6 digits
  else if (hex.length == 7) {
    r = parseInt(hex.substring(1, 3), 16);
    g = parseInt(hex.substring(3, 5), 16);
    b = parseInt(hex.substring(5, 7), 16);
  }
  return [r, g, b];
}

